/* 1. 动画定义 (保持逻辑，调整位移单位) */

* {
    user-select: none;
}

@keyframes crystalFadeIn {
    from {
        opacity: 0;
        backdrop-filter: blur(0);
    }
    to {
        opacity: 1;
        backdrop-filter: blur(0.5rem);
    } /* 8px -> 0.5rem */
}

@keyframes crystalFadeOut {
    from {
        opacity: 1;
        backdrop-filter: blur(0.5rem);
    }
    to {
        opacity: 0;
        backdrop-filter: blur(0);
    }
}

@keyframes crystalPopIn {
    0% {
        opacity: 0;
        transform: scale(0.95) translateY(0.5rem);
        filter: blur(0.25rem);
    }
    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
        filter: blur(0);
    }
}

@keyframes crystalPopOut {
    0% {
        opacity: 1;
        transform: scale(1);
        filter: blur(0);
    }
    100% {
        opacity: 0;
        transform: scale(0.98) translateY(-0.25rem);
        filter: blur(0.5rem);
    }
}

/* 2. 布局结构 */

.dialog-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.dialog-wrapper.is-open {
    opacity: 1;
    pointer-events: auto;
}

/* 自定义遮罩层：极淡的白雾 */
.custom-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    /* 使用纯白叠加，降低透明度，配合模糊营造过曝感 */
    background-color: rgba(255, 255, 255, 0.3);
    opacity: 0;
    backdrop-filter: blur(0);
}

.dialog-wrapper.is-open .custom-backdrop {
    animation: crystalFadeIn 0.5s ease-out forwards;
}

.dialog-wrapper.is-closing .custom-backdrop {
    animation: crystalFadeOut 0.4s ease-in forwards;
}

/* 对话框主体：冷色调的薄玻璃 */
.dialog-frame {
    position: relative;
    z-index: 101;

    /* 背景：高通透白，带一点点冷调 */
    background: rgba(248, 250, 252, 0.65);
    backdrop-filter: blur(1rem) saturate(110%);
    -webkit-backdrop-filter: blur(1rem) saturate(110%);

    /* 边框：极细的晶体边缘 */
    border: 0.0625rem solid rgba(255, 255, 255, 0.8); /* 1px */
    border-top-color: rgba(255, 255, 255, 1);
    border-bottom-color: rgba(148, 163, 184, 0.2);

    border-radius: 0.5rem; /* 8px */

    padding: 2.5rem 3rem; /* 40px 48px */
    width: 26rem; /* 416px */
    max-width: 85vw;

    /* 阴影：柔和的淡靛青色光晕，营造忧伤氛围 */
    box-shadow:
        0 1rem 3rem rgba(165, 180, 252, 0.15),
        inset 0 0 2rem rgba(255, 255, 255, 0.6);

    display: flex;
    flex-direction: column;
    gap: 1.5rem; /* 24px */
    text-align: center;
    opacity: 0;
}

.dialog-wrapper.is-open .dialog-frame {
    animation: crystalPopIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    animation-delay: 0.1s;
}

.dialog-wrapper.is-closing .dialog-frame {
    animation: crystalPopOut 0.3s ease-in forwards;
}

/* 3. 字体与排版 (Color & Typography) */

.title {
    font-family: 'Optima', 'Palatino Linotype', serif; /* 使用衬线体或人文主义无衬线体 */
    font-size: 1.5rem; /* 24px */
    font-weight: 500;
    /* 颜色：Slate-700，深岩灰，比黑色柔和 */
    color: #334155;
    letter-spacing: 0.05rem;
    margin-bottom: 0.25rem;
}

.content-text {
    /* 颜色：Slate-500，冷灰色 */
    color: #64748b;
    font-size: 1rem;
    line-height: 1.6;
    font-weight: 400;
}

.actions {
    display: flex;
    justify-content: center;
    gap: 1.5rem; /* 24px */
    margin-top: 1rem;
}

/* 4. 按钮设计 (Buttons) */

vn-button {
    --lion-button-border-radius: 0.25rem; /* 4px */
    font-family: inherit;
    font-size: 0.9375rem; /* 15px */
    letter-spacing: 0.05rem;
    transition: all 0.4s ease;
    padding: 0.5rem 1.5rem;
}

/* 取消按钮：幽灵按钮，平时几乎不可见 */
.btn-cancel {
    --lion-button-background-color: transparent;
    --lion-button-color: #94a3b8; /* Slate-400 浅灰 */
    border: 0.0625rem solid transparent;
}

.btn-cancel:hover {
    /* 悬停时出现淡淡的边框 */
    border-color: rgba(148, 163, 184, 0.3);
    --lion-button-color: #64748b; /* 变深一点 */
}

/* 确定按钮：宝石质感 */
.btn-confirm {
    /* 渐变：从淡紫到淡蓝 (Periwinkle -> Soft Blue) */
    /* 这种颜色不像警告色那么强，有一种静谧感 */
    background: linear-gradient(135deg, #a5b4fc 0%, #818cf8 100%);

    --lion-button-background-color: transparent;
    --lion-button-color: #fff; /* 纯白文字 */

    border: 0.0625rem solid rgba(255, 255, 255, 0.4);
    box-shadow: 0 0.25rem 0.75rem rgba(165, 180, 252, 0.4); /* 淡紫色辉光 */
    text-shadow: 0 0.0625rem 0.125rem rgba(0, 0, 0, 0.1);
}

.btn-confirm:hover {
    /* 悬停时更亮 */
    background: linear-gradient(135deg, #c7d2fe 0%, #a5b4fc 100%);
    box-shadow: 0 0.375rem 1rem rgba(165, 180, 252, 0.6);
    transform: translateY(-0.0625rem);
}

.btn-confirm:active {
    transform: translateY(0);
    box-shadow: 0 0.125rem 0.5rem rgba(165, 180, 252, 0.4);
}
